# üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å Nixpacks

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –ø—Ä–æ–µ–∫—Ç–∞ Hello World CI/CD —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Nixpacks Build Pack** –≤ Coolify.

## üìã –ß—Ç–æ —Ç–∞–∫–æ–µ Nixpacks?

Nixpacks - —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏ Docker –æ–±—Ä–∞–∑–æ–≤, –∫–æ—Ç–æ—Ä—ã–π:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –ø—Ä–æ–µ–∫—Ç–∞ (Node.js, Python, Ruby –∏ —Ç.–¥.)
- ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ Dockerfile
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç —Ä–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —è–∑—ã–∫–æ–≤ –∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Nixpacks

1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –Ω–µ –Ω—É–∂–µ–Ω Dockerfile
2. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** - Nixpacks —Å–∞–º –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–ª–æ–µ–≤
4. **–ì–∏–±–∫–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏ Node.js

## üì¶ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è Nixpacks

–ü—Ä–æ–µ–∫—Ç —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Nixpacks:

### –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

1. **`nixpacks.toml`** - –æ—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nixpacks
2. **`.nvmrc`** - —É–∫–∞–∑—ã–≤–∞–µ—Ç –≤–µ—Ä—Å–∏—é Node.js (18)
3. **`package.json`** - —Å–æ–¥–µ—Ä–∂–∏—Ç `engines` –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –≤–µ—Ä—Å–∏–∏ Node.js

### –í–µ—Ä—Å–∏—è Node.js

–í–µ—Ä—Å–∏—è Node.js –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞:

1. **–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è** `NIXPACKS_NODE_VERSION` (–≤ Coolify UI)
2. **–§–∞–π–ª `.nvmrc`** (—Å–æ–¥–µ—Ä–∂–∏—Ç `18`)
3. **–ü–æ–ª–µ `engines` –≤ `package.json`** (—É–∫–∞–∑–∞–Ω–æ `>=18.0.0`)
4. **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é** - Node.js 18

## üîß –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ Coolify —Å Nixpacks

### –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

1. –í Coolify —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ä–µ—Å—É—Ä—Å
2. –í—ã–±–µ—Ä–∏—Ç–µ "Public Repository" –∏–ª–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ —á–µ—Ä–µ–∑ GitHub App
3. –£–∫–∞–∂–∏—Ç–µ URL –≤–∞—à–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

### –®–∞–≥ 2: –í—ã–±–æ—Ä Build Pack

1. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ä–µ—Å—É—Ä—Å–∞ –≤—ã–±–µ—Ä–∏—Ç–µ **"Nixpacks"** –∫–∞–∫ Build Pack
2. Coolify –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –ø—Ä–æ–µ–∫—Ç –∫–∞–∫ Node.js

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Build Pack

–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Build Pack —É–∫–∞–∂–∏—Ç–µ:

- **Base Directory:** `/` (–∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞)
- **Port:** `3000` (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `PORT`)
- **Is it a static Site?:** ‚ùå –ù–µ—Ç (—ç—Ç–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
- **Build Command:** (–æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, Nixpacks –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- **Start Command:** `node server.js` (–∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–∑ package.json)

### –®–∞–≥ 4: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ MongoDB (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)

**‚ö†Ô∏è –í–ê–ñ–ù–û: MongoDB –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞ –∫–∞–∫ –û–¢–î–ï–õ–¨–ù–´–ô —Å–µ—Ä–≤–∏—Å –≤ Coolify!**

MongoDB –ù–ï –≤–∫–ª—é—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ Nixpacks —Å–±–æ—Ä–∫—É. –í—ã –¥–æ–ª–∂–Ω—ã —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π MongoDB —Å–µ—Ä–≤–∏—Å.

üìñ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** —Å–º. [MONGODB-SETUP.md](./MONGODB-SETUP.md)

**–ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:**

1. –í Coolify —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ä–µ—Å—É—Ä—Å ‚Üí **Database** ‚Üí **MongoDB**
2. –£–∫–∞–∂–∏—Ç–µ –∏–º—è —Å–µ—Ä–≤–∏—Å–∞: `mongodb` (–≤–∞–∂–Ω–æ!)
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±—Ä–∞–∑: `mongo:7`
4. –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ —Å–µ—Ä–≤–∏—Å

### –®–∞–≥ 5: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Coolify –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```env
NODE_ENV=production
PORT=3000
MONGODB_URI=mongodb://mongodb:27017/helloworld
```

**–í–∞–∂–Ω–æ:** 
- `mongodb` - —ç—Ç–æ –∏–º—è MongoDB —Å–µ—Ä–≤–∏—Å–∞, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã —Å–æ–∑–¥–∞–ª–∏ –≤ Coolify
- –ï—Å–ª–∏ MongoDB —Å–µ—Ä–≤–∏—Å –∏–º–µ–µ—Ç –¥—Ä—É–≥–æ–µ –∏–º—è, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –≤–º–µ—Å—Ç–æ `mongodb`
- –ï—Å–ª–∏ MongoDB –≤–Ω–µ—à–Ω—è—è, —É–∫–∞–∂–∏—Ç–µ –ø–æ–ª–Ω—ã–π URI
- –î–ª—è MongoDB Atlas –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ connection string: `mongodb+srv://...`

### –®–∞–≥ 5: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

1. –ù–∞–∂–º–∏—Ç–µ "Deploy"
2. Nixpacks –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
   - –û–ø—Ä–µ–¥–µ–ª–∏—Ç Node.js –ø—Ä–æ–µ–∫—Ç
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç Node.js 18 (–∏–∑ .nvmrc)
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ `npm install`
   - –°–æ–±–µ—Ä–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–±—Ä–∞–∑
   - –ó–∞–ø—É—Å—Ç–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **–õ–æ–≥–∏** –≤ Coolify - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è:
   ```
   ‚úÖ MongoDB –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
   üöÄ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3000
   ```

2. **Health Check:** `https://your-app.coolify.io/api/health`
   - –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å —Å—Ç–∞—Ç—É—Å–æ–º

3. **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞:** `https://your-app.coolify.io/`
   - –î–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –¥–∞—à–±–æ—Ä–¥

## ‚öôÔ∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ Node.js

**–°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```env
NIXPACKS_NODE_VERSION=20
```

**–°–ø–æ—Å–æ–± 2: –û–±–Ω–æ–≤–∏—Ç—å `.nvmrc`**
```
20
```

**–°–ø–æ—Å–æ–± 3: –û–±–Ω–æ–≤–∏—Ç—å `package.json`**
```json
{
  "engines": {
    "node": ">=20.0.0"
  }
}
```

### –ö–∞—Å—Ç–æ–º–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nixpacks

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `nixpacks.toml` –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫:

```toml
[phases.setup]
# –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏

[phases.install]
# –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

[start]
cmd = "node server.js"
```

## üÜö Nixpacks vs Dockerfile

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Nixpacks:
- ‚úÖ –ü—Ä–æ—Å—Ç—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –±–µ–∑ —Å–ª–æ–∂–Ω–æ–π —Å–±–æ—Ä–∫–∏
- ‚úÖ –•–æ—Ç–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é
- ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –±–µ–∑ –Ω–∞–ø–∏—Å–∞–Ω–∏—è Dockerfile
- ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Dockerfile:
- ‚úÖ –°–ª–æ–∂–Ω–∞—è –∫–∞—Å—Ç–æ–º–Ω–∞—è —Å–±–æ—Ä–∫–∞
- ‚úÖ –ù—É–∂–µ–Ω –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ø—Ä–æ—Ü–µ—Å—Å–æ–º
- ‚úÖ –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –ú—É–ª—å—Ç–∏—Å—Ç–µ–π–¥–∂ —Å–±–æ—Ä–∫–∞

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è Node.js

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `.nvmrc` —Ñ–∞–π–ª
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `NIXPACKS_NODE_VERSION` –≤ Coolify
3. –û–±–Ω–æ–≤–∏—Ç–µ `engines` –≤ `package.json`

### –ü—Ä–æ–±–ª–µ–º–∞: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `package.json` –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–±–æ—Ä–∫–∏ –≤ Coolify
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `package-lock.json` –∑–∞–∫–æ–º–º–∏—á–µ–Ω

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–º–∞–Ω–¥—É –∑–∞–ø—É—Å–∫–∞ –≤ `package.json` (`npm start`)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Nixpacks](https://nixpacks.com/docs)
- [Nixpacks –¥–ª—è Node.js](https://nixpacks.com/docs/providers/node)
- [Coolify Nixpacks Guide](https://coolify.io/docs/applications/build-packs/nixpacks)

## üéâ –ì–æ—Ç–æ–≤–æ!

–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ —Å Nixpacks! 

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –±–µ–∑ Dockerfile
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–±—Ä–∞–∑
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏ Node.js
- ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

---

**–°–æ–≤–µ—Ç:** –ï—Å–ª–∏ –Ω—É–∂–µ–Ω –±–æ–ª—å—à–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ Dockerfile –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Coolify –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç.

